<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{if .title}}{{.title}} - {{end}}Garp Documentation</title>
    <meta name="description" content="{{if .description}}{{.description}}{{else}}Garp - A legendary, no-nonsense static site engine{{end}}">
    <link href="/style.css" rel="stylesheet">
    <link href="/search-styles.css" rel="stylesheet">
    {{if .extraCSS}}<link href="{{.extraCSS}}" rel="stylesheet">{{end}}
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation Header -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="container-garp">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <a href="/docs/" class="text-xl font-bold text-gray-900">ðŸ“– Garp Docs</a>
                </div>
                <div class="hidden md:flex items-center space-x-6">
                    <a href="/docs/getting-started" class="nav-link">Getting Started</a>
                    <a href="/docs/user-guide" class="nav-link">User Guide</a>
                    <a href="/docs/cli-reference" class="nav-link">CLI Reference</a>
                    <a href="/docs/deployment" class="nav-link">Deployment</a>
                    <a href="/docs/examples" class="nav-link">Examples</a>
                    <a href="/docs/troubleshooting" class="nav-link">Troubleshooting</a>
                </div>
                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-500 hover:text-gray-700 focus:outline-none">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-200">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="/docs/getting-started" class="block px-3 py-2 text-gray-700 hover:text-blue-600">Getting Started</a>
                <a href="/docs/user-guide" class="block px-3 py-2 text-gray-700 hover:text-blue-600">User Guide</a>
                <a href="/docs/cli-reference" class="block px-3 py-2 text-gray-700 hover:text-blue-600">CLI Reference</a>
                <a href="/docs/deployment" class="block px-3 py-2 text-gray-700 hover:text-blue-600">Deployment</a>
                <a href="/docs/examples" class="block px-3 py-2 text-gray-700 hover:text-blue-600">Examples</a>
                <a href="/docs/troubleshooting" class="block px-3 py-2 text-gray-700 hover:text-blue-600">Troubleshooting</a>
            </div>
        </div>
    </nav>

    <div class="container-garp py-8">
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Sidebar Navigation -->
            <aside class="lg:w-64 flex-shrink-0">
                <div class="bg-white rounded-lg border border-gray-200 p-6 sticky top-24">
                    <h3 class="font-semibold text-gray-900 mb-4">Documentation</h3>
                    <nav class="space-y-2">
                        <div class="space-y-1">
                            <h4 class="text-sm font-medium text-gray-900 mb-2">Getting Started</h4>
                            <ul class="space-y-1 ml-3">
                                <li><a href="/docs/installation" class="text-sm text-gray-600 hover:text-blue-600">Installation</a></li>
                                <li><a href="/docs/quick-start" class="text-sm text-gray-600 hover:text-blue-600">Quick Start</a></li>
                                <li><a href="/docs/project-structure" class="text-sm text-gray-600 hover:text-blue-600">Project Structure</a></li>
                            </ul>
                        </div>
                        
                        <div class="space-y-1">
                            <h4 class="text-sm font-medium text-gray-900 mb-2">User Guide</h4>
                            <ul class="space-y-1 ml-3">
                                <li><a href="/docs/markdown-rendering" class="text-sm text-gray-600 hover:text-blue-600">Markdown Rendering</a></li>
                                <li><a href="/docs/frontmatter" class="text-sm text-gray-600 hover:text-blue-600">Frontmatter</a></li>
                                <li><a href="/docs/styling" class="text-sm text-gray-600 hover:text-blue-600">Styling with Tailwind</a></li>
                                <li><a href="/docs/search" class="text-sm text-gray-600 hover:text-blue-600">Search Integration</a></li>
                                <li><a href="/docs/forms" class="text-sm text-gray-600 hover:text-blue-600">Contact Forms</a></li>
                            </ul>
                        </div>
                        
                        <div class="space-y-1">
                            <h4 class="text-sm font-medium text-gray-900 mb-2">CLI Reference</h4>
                            <ul class="space-y-1 ml-3">
                                <li><a href="/docs/cli/init" class="text-sm text-gray-600 hover:text-blue-600">garp init</a></li>
                                <li><a href="/docs/cli/serve" class="text-sm text-gray-600 hover:text-blue-600">garp serve</a></li>
                                <li><a href="/docs/cli/build" class="text-sm text-gray-600 hover:text-blue-600">garp build</a></li>
                                <li><a href="/docs/cli/deploy" class="text-sm text-gray-600 hover:text-blue-600">garp deploy</a></li>
                                <li><a href="/docs/cli/doctor" class="text-sm text-gray-600 hover:text-blue-600">garp doctor</a></li>
                            </ul>
                        </div>
                        
                        <div class="space-y-1">
                            <h4 class="text-sm font-medium text-gray-900 mb-2">Deployment</h4>
                            <ul class="space-y-1 ml-3">
                                <li><a href="/docs/deployment/overview" class="text-sm text-gray-600 hover:text-blue-600">Overview</a></li>
                                <li><a href="/docs/deployment/netlify" class="text-sm text-gray-600 hover:text-blue-600">Netlify</a></li>
                                <li><a href="/docs/deployment/cloudflare" class="text-sm text-gray-600 hover:text-blue-600">Cloudflare Pages</a></li>
                                <li><a href="/docs/deployment/rsync" class="text-sm text-gray-600 hover:text-blue-600">Rsync/SSH</a></li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 max-w-none">
                {{if .title}}
                <header class="mb-8">
                    <h1 class="text-4xl font-bold text-gray-900 mb-4">{{.title}}</h1>
                    {{if .description}}<p class="text-lg text-gray-600">{{.description}}</p>{{end}}
                    {{if .lastUpdated}}<p class="text-sm text-gray-500 mt-2">Last updated: {{.lastUpdated}}</p>{{end}}
                </header>
                {{end}}

                <div class="markdown-content bg-white rounded-lg border border-gray-200 p-8">
                    <!-- Markdown content will be rendered here -->
                    {{.Inner}}
                </div>

                <!-- Page Navigation -->
                <div class="flex justify-between items-center mt-8 pt-8 border-t border-gray-200">
                    {{if .previousPage}}
                    <a href="{{.previousPage.url}}" class="flex items-center text-blue-600 hover:text-blue-800">
                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                        {{.previousPage.title}}
                    </a>
                    {{else}}
                    <div></div>
                    {{end}}
                    
                    {{if .nextPage}}
                    <a href="{{.nextPage.url}}" class="flex items-center text-blue-600 hover:text-blue-800">
                        {{.nextPage.title}}
                        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </a>
                    {{else}}
                    <div></div>
                    {{end}}
                </div>
            </main>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 mt-16">
        <div class="container-garp py-8">
            <div class="grid md:grid-cols-3 gap-6">
                <div>
                    <h3 class="font-semibold text-gray-900 mb-3">Garp</h3>
                    <p class="text-gray-600 text-sm">A legendary, no-nonsense static site engine that punches above its weight.</p>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900 mb-3">Documentation</h3>
                    <ul class="space-y-1 text-sm">
                        <li><a href="/docs/getting-started" class="text-gray-600 hover:text-blue-600">Getting Started</a></li>
                        <li><a href="/docs/cli-reference" class="text-gray-600 hover:text-blue-600">CLI Reference</a></li>
                        <li><a href="/docs/examples" class="text-gray-600 hover:text-blue-600">Examples</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900 mb-3">Community</h3>
                    <ul class="space-y-1 text-sm">
                        <li><a href="#" class="text-gray-600 hover:text-blue-600">GitHub</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-blue-600">Issues</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-blue-600">Discussions</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-200 mt-6 pt-6 text-center">
                <p class="text-gray-500 text-sm">&copy; 2025 Garp. Built with Garp itself.</p>
            </div>
        </div>
    </footer>

    <!-- Pagefind Search -->
    <link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/_pagefind/pagefind-ui.js"></script>
    
    <script>
        // Mobile menu toggle
        document.getElementById('mobile-menu-button')?.addEventListener('click', function() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

        // Initialize search if element exists
        const searchElement = document.getElementById('search');
        if (searchElement) {
            window.addEventListener('DOMContentLoaded', () => {
                new PagefindUI({ 
                    element: "#search",
                    showSubResults: true,
                    showImages: false,
                    excerptLength: 40,
                    resetStyles: false,
                    ranking: {
                        termSimilarity: 1.0,
                        pageLength: 0.5,
                        termSaturation: 0.8,
                        termFrequency: 1.2
                    }
                });
            });
        }
    </script>
</body>
</html>